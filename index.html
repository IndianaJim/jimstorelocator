<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Jim Store Locator</title>

  <style>
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
</head>

<body>
  <h1>Jim Store Locator</h1>
  <div id="map"></div>

  <script>


    function initMap() {
      //map options
      var options = {
        zoom: 8,
        center: { lat: 39.890454, lng: -86.031845 }
      }
      //new map
      var map = new google.maps.Map(document.getElementById('map'), options);



      /* //initial setup test with just one marker location
      //add marker
      var marker = new google.maps.Marker({
        position: { lat: 39.890454, lng: -86.031845 },
        map: map
      });
      marker.addListener('click', function () {
        infoWindow.open(map, marker);
      });

      // info window
      var infoWindow = new google.maps.InfoWindow({
        content: '<h1>Home</h1>'
      })
      */

      // array of markers
      var markers = [
        {
          coords: { lat: 39.890454, lng: -86.031845 },
          content: '<h1>Starbucks 1</h1>'
        },
        {
          coords: { lat: 39.83670609, lng: -86.17135363 },
          content: '<h1>Starbucks 2</h1>'
        },
        {
          coords: { lat: 39.914198, lng: -86.10952675 },
          content: '<h1>Starbucks 3</h1>'
        }
      ];

      //loop through markers
      for (var i = 0; i < markers.length; i++) {
        //add each marker from array
        addMarker(markers[i]);
      }

      //add marker function
      function addMarker(props) {
        var marker = new google.maps.Marker({
          position: props.coords,
          map: map
        });

        //check for content
        if (props.content) {


          // info window
          var infoWindow = new google.maps.InfoWindow({
            content: props.content
          });
          //listen for marker click
          marker.addListener('click', function () {
            infoWindow.open(map, marker);
          });
        }
      }
    }
  </script>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCKyzkwzbkB3tPezzkXFXZB7wIDYZBR2_k&callback=initMap" async
    defer></script>
</body>

</html>